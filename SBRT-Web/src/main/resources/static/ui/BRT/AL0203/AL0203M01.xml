<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head>
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:dataMap baseNode="map" id="dma_search">
					<w2:keyInfo>
						<w2:key id="TYPE" name="name1" dataType="text"></w2:key>
						<w2:key id="CONTENT" name="name2" dataType="text"></w2:key>
						<w2:key id="USE_YN" name="name3" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_result">
					<w2:keyInfo>
						<w2:key id="STATUS" name="STATUS" dataType="text"></w2:key>
						<w2:key id="ICNT" name="입력건수" dataType="text"></w2:key>
						<w2:key id="UCNT" name="수정건수" dataType="text"></w2:key>
						<w2:key id="DCNT" name="삭제건수" dataType="text"></w2:key>
						<w2:key id="TYPE" name="TYPE" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_searchitem" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="REP_ROUT_NM" name="대표노선명" dataType="text"></w2:column>
						<w2:column id="ROUT_NM" name="노선명" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_BMS_ROUT_MST" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="REP_ROUT_ID" name="대표노선ID" dataType="text"></w2:column>
						<w2:column id="REP_ROUT_NM" name="대표노선명" dataType="text"></w2:column>
						<w2:column id="ROUT_NM" name="노선명" dataType="text"></w2:column>
						<w2:column id="ROUT_TYPE" name="노선유형" dataType="text"></w2:column>
						<w2:column id="ST_STTN_NM" name="시작정류소명" dataType="text"></w2:column>
						<w2:column id="ED_STTN_NM" name="종료정류소명" dataType="text"></w2:column>
						<w2:column id="DAY_DIV" name="요일구분" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_BRT_OPER_ALLOC_PL_NODE_INFO" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="OPER_SN" name="운행순번" dataType="text"></w2:column>
						<w2:column id="ARRV_TM" name="도착시간" dataType="text"></w2:column>
						<w2:column id="DPRT_TM" name="출발시간" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataMap baseNode="map" id="dma_sub_search">
					<w2:keyInfo>
						<w2:key id="REP_ROUT_ID" name="대표노선ID" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
			<xf:submission id="sub_AL0203G0R0" ref="data:json,dma_search" target="data:json,dlt_BMS_ROUT_MST" action="/al/AL0203G0R0"
				method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="조회 중입니다..." ev:submit="" ev:submitdone="scwin.sub_AL0203G0R0_submitdone" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_AL0203G0S0" ref='data:json,{"action":"modified","id":"dlt_BRT_COR_MST"}' target="data:json,dma_result"
				action="/al/AL0203G0S0" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
				customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="scwin.sub_AL0203G0S0_submitdone" ev:submiterror=""
				abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_AL0203SHI0" ref="" target="data:json,dlt_searchitem" action="/al/AL0203SHI0" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg=""
				ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_AL0203G1R0" ref="data:json,dma_sub_search" target="data:json,dlt_BRT_OPER_ALLOC_PL_NODE_INFO"
				action="/al/AL0203G1R0" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
				customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="scwin.sub_AL0203G1R0_submitdone" ev:submiterror=""
				abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_AL0203G1S0" ref="data:json,dlt_BRT_COR_DTL_INFO" target="data:json,dma_result" action="/al/AL0203G1S0" method="post" mediatype="application/json" encoding="UTF-8"
				instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="scwin.sub_AL0203G1S0_submitdone"
				ev:submiterror="" abortTrigger="">
			</xf:submission>
		</xf:model>
		<script type="text/javascript" lazy="false"><![CDATA[
        
	scwin.onpageload = function() {
		var autoOptions = {
			Main : { grid : AL0203G0, srchSbm : sub_AL0203G0R0, savSbm : sub_AL0203G0S0, 
					 srchGrp : pgm_header , keyColumn : "REP_ROUT_ID", focusColumn : "ROUT_NM", name : "운행계획 목록"},
			Sub1 : { grid : AL0203G1, srchSbm : sub_AL0203G1R0, keyColumn : "OPER_SN", savSbm : sub_AL0203G1S0, name : "운행계획 상세" }	
		 };
		 
		com.setMainBtn2(wfm_mainBtn, gcm.DISP_TYPE.DUAL_GRID, autoOptions);
		
		var codeOptions = [ 
							{code : "DAY_DIV", compID : "AL0203G0:DAY_DIV" },
							{code : "ROUT_TYPE", compID : "AL0203G0:ROUT_TYPE" }
													
						];		
	
		com.setCommonDtl(codeOptions, function() {
			com.searchGrid(AL0203G0, sub_AL0203G0R0);
		});	
		
		/*AL0203G0.mergeCol(2, false);
		AL0203G0.mergeCol(3, false);
		AL0203G0.mergeCol(4, false);
		AL0203G0.mergeCol(5, false);
		AL0203G0.mergeCells("byrestriccol");*/
		
		com.executeSubmission(sub_AL0203SHI0);
		
	};
	
	scwin.onpageunload = function() {
		
	};
	
	scwin.sub_AL0203G0R0_submitdone = function(e) {
		com.setFocusedCell(AL0203G0, "REP_ROUT_NM");
	};
	
	scwin.sub_AL0203G0S0_submitdone = function(e) {
		
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SAVE) {
			com.saveDone(AL0203G0,sub_AL0203G0R0);
		}
	};
	
	
	scwin.sbx_ChoiceBox_onviewchange = function(info) {
		if (info.newValue == "ALL") {
			autoChoiceBox.hide();
			search_input.setValue("");
			search_input.show("");
		} 
		else if (info.newValue == "REP_ROUT_NM") {
			search_input.hide();
			autoChoiceBox.setNodeSet("data:dlt_searchitem", "REP_ROUT_NM", "REP_ROUT_NM");
			autoChoiceBox.show("");
		} else if (info.newValue == "ROUT_NM") {
			search_input.hide();
			autoChoiceBox.setNodeSet("data:dlt_searchitem", "ROUT_NM", "ROUT_NM");
			autoChoiceBox.show("");
		}
	};
	
	scwin.AL0203G0_onrowindexchange = function(row,oldRow) {
		var focusOption = {keyMap : dma_sub_search};
		com.changeDualGrid(AL0203G0, AL0203G1, null, sub_AL0203G1R0, focusOption, row, oldRow);
		
	};
	
	scwin.sub_AL0203G1R0_submitdone = function(e) {
		//var val_ROUT_ID = dlt_BRT_COR_DTL_INFO.getColData("ROUT_ID");
//		dma_sub_search.set("ROUT_IDS", val_ROUT_ID);
//		dma_sub_search.set("TYPE", "DISP_NODE");
//		com.executeSubmission(sub_AL0203G2R0);
	};
	
	
	scwin.sub_AL0203G1S0_submitdone = function(e) {
		com.saveDone(AL0203G1, sub_AL0203G1R0);		
	};
	
	]]></script>
	</head>
	<body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
		<xf:group id="pgm_container" class="pgm_container grdr_41_36_a" style="">
			<xf:group id="pgm_navi" class="pgm_navi" style="">
				<w2:wframe id="wfm_navi" style="" src="/cm/common/wf_navi.xml" scope="true"></w2:wframe>
			</xf:group>
			<xf:group class="pgm_header" id="pgm_header" style="">
				<xf:group class="gr_search" id="" style="">
					<xf:group class="label" id="" style="">
						<w2:span class="" id="" label="검색 항목"></w2:span>
					</xf:group>
					<xf:group class="search" id="" style="">
						<xf:select1 allOption="" appearance="minimal" chooseOption="" direction="auto" disabled="false"
							disabledClass="w2selectbox_disabled" displayMode="label" ev:onviewchange="scwin.sbx_ChoiceBox_onviewchange" id="TYPE10"
							optionOrder="false" ref="data:dma_search.TYPE" class="search_type_100" submenuSize="auto" textAlign="left">

							<xf:choices>
								<xf:item>
									<xf:label><![CDATA[-전체-]]></xf:label>
									<xf:value><![CDATA[ALL]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[대표노선명]]></xf:label>
									<xf:value><![CDATA[REP_ROUT_NM]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[노선명]]></xf:label>
									<xf:value><![CDATA[ROUT_NM]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select1>
						<xf:input id="search_input" class="search_input" ref="data:dma_search.CONTENT" placeholder="대표노선명 또는 노선명"></xf:input>
						<w2:autoComplete allOption="" caseSensitive="false" chooseOption="true" chooseOptionLabel="-전체-"
							chooseOptionValue="" class="search_auto" displayMode="label" editType="select" emptyItem="" emptyValue="" ev:onchange=""
							ev:onviewchange="" id="autoChoiceBox" interactionMode="" noResult="useData" ref="data:dma_search.CONTENT" search="start"
							selectedData="" style="display:none" submenuSize="auto" textAlign="left" useKeywordHighlight="false" visibleRowNum=""
							nextTabByEnter="" disableEdit="">
							<w2:choices>
								<w2:itemset nodeset="data:dlt_searchitem">
									<w2:label ref="COR_ID"></w2:label>
									<w2:value ref="COR_ID"></w2:value>
								</w2:itemset>
							</w2:choices>
						</w2:autoComplete>
					</xf:group>
					<w2:wframe class="" id="wfm_mainBtn" scope="true" src="/cm/common/wf_mainBtn.xml" style=""></w2:wframe>
				</xf:group>
			</xf:group>
			<xf:group id="pgm_content" class="pgm_content grdc_500_20_a" style="">
				<xf:group id="pgm_list" class="pgm_list grdr_20_2_a" style="">
					<xf:group class="defaultbox" id="" style="">
						<w2:textbox class="df_tt fl" id="" label="운행계획 목록" style=""></w2:textbox>
					</xf:group>
					<xf:group></xf:group>
					<xf:group id="" class="" style="">
						<w2:gridView alwaysTriggerScrollStart="" autoFit="lastColumn" captionTitle="" class="cm_grid left"
							dataList="data:dlt_BMS_ROUT_MST" enterKeyMove="" ev:onafteredit="" ev:oncellclick="" ev:oneditkeyup="" ev:onkeyup=""
							ev:onrowindexchange="scwin.AL0203G0_onrowindexchange" ev:ontextimageclick="" ev:onviewchange="" fixedColumnWithHidden="true"
							id="AL0203G0" ignoreCellClick="false" nextTabID="" rowNumHeaderValue="순번" rowNumVisible="true" rowStatusHeaderValue=""
							rowStatusVisible="false" rowStatusWidth="40" scrollByColumn="false" style="" useShiftKey="true" visibleRowNum="" wheelRows=""
							autoFitMinWidth="0" disabledScrollHidden="" editModeEvent="" editModeEventIcon="" checkEditableInputClass="" keyMoveEditMode=""
							moveKeyEditMode="" moveKeyEditModeAll="" ignoreNonEditableCellTabEnter="" readOnly="true" keepDefaultColumnWidth=""
							oddEvenColorDisplay="" rowNumWidth="" summaryAuto="" excludeDeletedRows="" useCtrlOnMultisort="" useFilterList=""
							useFilterListSync="" sortedIconPosition="" sortable="" sortOrderReverse="" showSortableUseFilter="" focusMode="row"
							rowNumStatusUniqueId="" rowNumStatusResize="" ev:onbeforecolumnmove="" userData1="" mergeCells="byrestriccol" 
							mergeCol="REP_ROUT_NM, DAY_DIV">
							<w2:caption style="" id="caption1" value="this is a grid caption."></w2:caption>
							<w2:header style="" id="header1">
								<w2:row style="" id="row1">
									<w2:column removeBorderStyle="false" width="80" inputType="text" style="height:20px" id="column3"
										value="대표노선명" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="50" inputType="text" style="height:20px" id="column2"
										value="요일" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="100" inputType="text" style="height:20px" id="column4"
										value="노선명" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="80" inputType="text" style="height:20px" id="column5"
										value="유형" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="200" inputType="text" style="height:20px" id="column1"
										value="기점명" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="200" inputType="text" style="height:20px" id="column6"
										value="종정명" blockSelect="false" displayMode="label">
									</w2:column>
								</w2:row>
							</w2:header>
							<w2:gBody style="" id="gBody1">
								<w2:row style="" id="row2">
									<w2:column removeBorderStyle="false" width="125" inputType="text" style="height:20px" id="REP_ROUT_NM"
										value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="67" inputType="select" style="height:20px" id="DAY_DIV"
										value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="67" inputType="text" style="height:20px" id="ROUT_NM"
										value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="67" inputType="select" style="height:20px" id="ROUT_TYPE"
										value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="192" inputType="text" style="height:20px" id="ST_STTN_NM"
										value="" blockSelect="false" displayMode="label" textAlign="left">
									</w2:column>
									<w2:column removeBorderStyle="false" width="192" inputType="text" style="height:20px" id="ED_STTN_NM"
										value="" blockSelect="false" displayMode="label" textAlign="left">
									</w2:column>
								</w2:row>
							</w2:gBody>
							<w2:footer style="" id="footer1">
								<w2:row style="" id="row3">
									<w2:column removeBorderStyle="false" width="NaN" inputType="expression" style="height:20px;"
										id="column42" value="" blockSelect="false" displayMode="label" colSpan="15" rowSpan=""
										expression="&quot;데이터 개수 : &quot; + COUNT(&apos;COMP_ID&apos;)" textAlign="left">
									</w2:column>
								</w2:row>
							</w2:footer>
						</w2:gridView>
					</xf:group>
				</xf:group>
				<xf:group id="" class="vertical_line"></xf:group>
				<xf:group class="pgm_detail grdr_20_2_280_20_a">
					<xf:group id="" class="gr_sub_header" style="">
						<xf:group class="defaultbox" id="" style="">
							<w2:textbox class="df_tt fl" id="" label="운행계획 상세" style=""></w2:textbox>
						</xf:group>
						<w2:wframe id="wfm_subBtn" class="" style="" src="/cm/common/wf_subBtn.xml" scope="true"></w2:wframe>
					</xf:group>
					<xf:group class="" id="" style=""></xf:group>
					<xf:group id="" class="" style="">
						<w2:gridView alwaysTriggerScrollStart="" autoFit="lastColumn" autoFitMinWidth="0" captionTitle=""
							checkEditableInputClass="" class="cm_grid right" dataList="data:dlt_BRT_OPER_ALLOC_PL_NODE_INFO" disabledScrollHidden="" editModeEvent=""
							editModeEventIcon="" enterKeyMove="" ev:onafteredit="" ev:onbeforecolumnmove="" ev:oncellclick="" ev:oneditkeyup="" ev:onkeyup=""
							ev:onrowindexchange="" ev:ontextimageclick="" ev:onviewchange="" excludeDeletedRows="" fixedColumnWithHidden="true" focusMode="row"
							id="AL0203G1" ignoreCellClick="false" ignoreNonEditableCellTabEnter="" keepDefaultColumnWidth="" keyMoveEditMode=""
							moveKeyEditMode="" moveKeyEditModeAll="" nextTabID="" oddEvenColorDisplay="" readOnly="" rowNumHeaderValue="순번" rowNumStatusResize=""
							rowNumStatusUniqueId="" rowNumVisible="true" rowNumWidth="" rowStatusHeaderValue="" rowStatusVisible="false" rowStatusWidth="40"
							scrollByColumn="false" showSortableUseFilter="" sortOrderReverse="" sortable="" sortedIconPosition="" style="" summaryAuto=""
							useCtrlOnMultisort="" useFilterList="" useFilterListSync="" useShiftKey="true" visibleRowNum="" wheelRows="" groupbyFilterBoxLocation="" groupbyFilterBox="">
							<w2:caption style="" id="caption1" value="this is a grid caption."></w2:caption>
							<w2:header style="" id="header1">
								<w2:row style="" id="row1">
									<w2:column removeBorderStyle="false" width="100" inputType="text" style="height:20px" id="column12"
										value="운행회차" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="137" inputType="text" style="height:20px" id="column10"
										value="도착시간" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="70" inputType="text" style="height:20px" id="column9"
										value="출발시간" blockSelect="false" displayMode="label">
									</w2:column>
								</w2:row>
							</w2:header>
							<w2:gBody style="" id="gBody1">
								<w2:row style="" id="row2">
									<w2:column removeBorderStyle="false" width="144" inputType="text" style="height:20px" id="OPER_SN"
										value="" blockSelect="false" displayMode="label" readOnly="true">
									</w2:column>
									<w2:column removeBorderStyle="false" width="137" inputType="text" style="height:20px" id="ARRV_TM"
										value="" blockSelect="false" displayMode="label" readOnly="true">
									</w2:column>
									<w2:column removeBorderStyle="false" width="70" inputType="text" style="height:20px" id="DPRT_TM"
										value="" blockSelect="false" displayMode="label" textAlign="left" readOnly="true">
									</w2:column>
								</w2:row>
							</w2:gBody>
						</w2:gridView>
					</xf:group>

					<xf:group id="" class="horizontal_line"></xf:group>
					<xf:group id="" class="gr_sub_header" style="">
						<xf:group class="defaultbox" id="" style="">
							<w2:textbox class="df_tt fl" id="" label="시공도" style=""></w2:textbox>
						</xf:group>
					</xf:group>
					<xf:group id="" class="" style=""></xf:group>
				</xf:group><!--end pgm_detail-->
			</xf:group><!-- end content -->
		</xf:group><!-- end container -->
	</body>
</html>
