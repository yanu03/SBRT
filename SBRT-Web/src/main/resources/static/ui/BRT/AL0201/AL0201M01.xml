<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head meta_vertical_guides="" meta_horizontal_guides="">
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:dataList id="dlt_BRT_OPER_PL_MST" baseNode="list" saveRemovedData="true" repeatNode="map" ev:oncelldatachange="">
					<w2:columnInfo>
						<w2:column id="REP_ROUT_ID" name="대표노선ID" dataType="text"></w2:column>
						<w2:column id="REP_ROUT_NM" name="대표노선명" dataType="text"></w2:column>
						<w2:column id="DAY_DIV" name="요일구분" dataType="text"></w2:column>
						<w2:column id="WAY_DIV" name="상하행구분" dataType="text"></w2:column>
						<w2:column id="ST_STTN_ID" name="기점ID" dataType="text"></w2:column>
						<w2:column id="ST_STTN_NM" name="기점명" dataType="text"></w2:column>
						<w2:column id="ST_STTN_ENM" name="기점영문명" dataType="text"></w2:column>
						<w2:column id="ED_STTN_ID" name="종점ID" dataType="text"></w2:column>
						<w2:column id="ED_STTN_ENM" name="종점영문명" dataType="text"></w2:column>
						<w2:column id="ED_STTN_NM" name="종점명" dataType="text"></w2:column>
						<w2:column id="OPER_CNT" name="운행횟수" dataType="number" defaultValue="0"></w2:column>
						<w2:column id="ALLOC_CNT" name="배차횟수" dataType="number" defaultValue="0"></w2:column>
						<w2:column id="FST_TM" name="첫차시간" dataType="text"></w2:column>
						<w2:column id="LST_TM" name="막차시간" dataType="text"></w2:column>
						<w2:column id="AM_PEAK_ST_TM" name="오전첨두시작시간" dataType="text"></w2:column>
						<w2:column id="AM_PEAK_ED_TM" name="오전첨두종료시간" dataType="text"></w2:column>
						<w2:column id="PM_PEAK_ST_TM" name="오후첨두시작시간" dataType="text"></w2:column>
						<w2:column id="PM_PEAK_ED_TM" name="오후첨두종료시간" dataType="text"></w2:column>
						<w2:column id="AM_PEAK" name="오전첨두시간격" dataType="text"></w2:column>
						<w2:column id="PM_PEAK" name="오후첨두시간격" dataType="text"></w2:column>
						<w2:column id="NONE_PEAK" name="비첨두간격" dataType="text"></w2:column>
						<w2:column id="REMARK" name="비고" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataMap id="dma_BRT_OPER_PL_MST" baseNode="list" saveRemovedData="true" repeatNode="map" ev:oncelldatachange="">
					<w2:keyInfo>
						<w2:key id="REP_ROUT_ID" name="대표노선ID" dataType="text"></w2:key>
						<w2:key id="REP_ROUT_NM" name="대표노선명" dataType="text"></w2:key>
						<w2:key id="DAY_DIV" name="요일구분" dataType="text"></w2:key>
						<w2:key id="WAY_DIV" name="상하행구분" dataType="text"></w2:key>
						<w2:key id="ST_STTN_ID" name="기점ID" dataType="text"></w2:key>
						<w2:key id="ST_STTN_NM" name="기점명" dataType="text"></w2:key>
						<w2:key id="ST_STTN_ENM" name="기점영문명" dataType="text"></w2:key>
						<w2:key id="ED_STTN_ID" name="종점ID" dataType="text"></w2:key>
						<w2:key id="ED_STTN_ENM" name="종점영문명" dataType="text"></w2:key>
						<w2:key id="ED_STTN_NM" name="종점명" dataType="text"></w2:key>
						<w2:key id="OPER_CNT" name="운행횟수" dataType="number" defaultValue="0"></w2:key>
						<w2:key id="ALLOC_CNT" name="배차횟수" dataType="number" defaultValue="0"></w2:key>
						<w2:key id="FST_TM" name="첫차시간" dataType="text"></w2:key>
						<w2:key id="LST_TM" name="막차시간" dataType="text"></w2:key>
						<w2:key id="AM_PEAK_ST_TM" name="오전첨두시작시간" dataType="text"></w2:key>
						<w2:key id="AM_PEAK_ED_TM" name="오전첨두종료시간" dataType="text"></w2:key>
						<w2:key id="PM_PEAK_ST_TM" name="오후첨두시작시간" dataType="text"></w2:key>
						<w2:key id="PM_PEAK_ED_TM" name="오후첨두종료시간" dataType="text"></w2:key>
						<w2:key id="AM_PEAK" name="오전첨두시간격" dataType="text"></w2:key>
						<w2:key id="PM_PEAK" name="오후첨두시간격" dataType="text"></w2:key>
						<w2:key id="NONE_PEAK" name="비첨두간격" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataList id="dlt_BRT_OPER_PL_ROUT_INFO" baseNode="list" saveRemovedData="true" repeatNode="map" ev:oncelldatachange="">
					<w2:columnInfo>
						<w2:column id="chk" name="선택" dataType="text" defaultValue="0"></w2:column>
						<w2:column id="REP_ROUT_ID" name="대표노선아이디" dataType="text"></w2:column>
						<w2:column id="DAY_DIV" name="요일구분" dataType="text"></w2:column>
						<w2:column id="WAY_DIV" name="상하행구분" dataType="text"></w2:column>
						<w2:column id="OPER_SN" name="운행순번" dataType="text"></w2:column>
						<w2:column id="OLD_OPER_SN" name="이전운행순번" dataType="text"></w2:column>
						<w2:column id="ROUT_ID" name="노선아이디" dataType="text"></w2:column>
						<w2:column id="ROUT_ST_TM" name="노선시작시간" dataType="text"></w2:column>
						<w2:column id="ROUT_ED_TM" name="노선종료시간" dataType="text"></w2:column>
						<w2:column id="OPER_INTV" name="운행간격" dataType="text"></w2:column>
						<w2:column id="OPER_TM" name="운행시간" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataMap baseNode="map" id="dma_search">
					<w2:keyInfo>
						<w2:key id="TYPE" name="name1" dataType="text"></w2:key>
						<w2:key id="CONTENT" name="name2" dataType="text"></w2:key>
						<w2:key id="USE_YN" name="name3" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_sub_search">
					<w2:keyInfo>
						<w2:key id="REP_ROUT_ID" name="대표노선아이디" dataType="text"></w2:key>
						<w2:key id="WAY_DIV" name="상하행구분" dataType="text"></w2:key>
						<w2:key id="DAY_DIV" name="요일구분" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_repRoutItem" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="REP_ROUT_ID" name="대표노선ID" dataType="text"></w2:column>
						<w2:column id="REP_ROUT_NM" name="대표노선명" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
			<xf:submission id="sub_AL0201G0R0" ref="data:json,dma_search" target="data:json,dlt_BRT_OPER_PL_MST" action="/al/AL0201G0R0"
				method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="조회 중입니다.." ev:submit="" ev:submitdone="scwin.sub_AL0201G0R0_submitdone" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_AL0201SHI0" ref="" target="data:json,dlt_repRoutItem" action="/repRout/selectRepRoutItem" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg=""
				ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_AL0201G0S0" ref='data:json,[{"id":"dlt_BRT_OPER_PL_MST","action":"modified"},"dma_search"]' target="data:json,dlt_BRT_OPER_PL_MST"
				action="/al/AL0201G0S0" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="저장중 입니다..." ev:submit="" ev:submitdone="scwin.sub_AL0201G0S0_submitdone" ev:submiterror="">
			</xf:submission>
			<xf:submission id="sub_AL0201G1R0" ref="data:json,dma_sub_search" target='data:json,dlt_BRT_OPER_PL_ROUT_INFO' action="/al/AL0201G1R0"
				method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="조회 중입니다.." ev:submit="" ev:submitdone="scwin.sub_AL0201G1R0_submitdone" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_AL0201G1S0" ref='data:json,[{"id":"dlt_BRT_OPER_PL_ROUT_INFO","action":"modified"},"dma_sub_search"]' target="data:json,dma_result"
				action="/al/AL0201G1S0" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="저장중 입니다..."
				ev:submit="" ev:submitdone="scwin.sub_AL0201G1S0_submitdone" ev:submiterror="">
			</xf:submission>
			<xf:submission id="sub_operPlanRoutList" ref="data:json,[dma_BRT_OPER_PL_MST,dma_sub_search]" target='data:json,dlt_BRT_OPER_PL_ROUT_INFO' action="/operPlan/selectOperPlanRoutList"
				method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="조회 중입니다.." ev:submit="" ev:submitdone="scwin.sub_operPlanRoutList_submitdone" ev:submiterror="" abortTrigger="">
			</xf:submission>

		</xf:model>
	<style>
		.AL0201G0 thead tr th nobr {
			word-wrap: break-word;
			white-space : normal;
			padding: 0px;
		}
		.AL0201G1 thead tr th nobr {
			word-wrap: break-word;
			white-space : normal;
			padding: 0px;
		}
		
	</style>
	<script type="text/javascript" lazy="false"><![CDATA[
	var isEditKeySkip = false;
	scwin.onpageload = function() {
	
		var autoOptions = {
			Main : { grid : AL0201G0, srchSbm : sub_AL0201G0R0, savSbm : sub_AL0201G0S0, srchGrp : pgm_header, keyColumn : "REP_ROUT_ID,WAY_DIV,DAY_DIV", 
					focusColumn : "REP_ROUT_ID", name :  "대표노선 운행계획"},
			Sub1 : { grid : AL0201G1, srchSbm : sub_AL0201G1R0, savSbm : sub_AL0201G1S0, name :  "대표노선 운행계획 상세",cnlGridCb:scwin.btn_cancel_cb}
		};
	
		var mainOptions = {
			PLAY:{cbFnc:scwin.btn_auto_onclick, nm:"자동",class:"autoApply"}
		};
		
		com.setMainBtn2(wfm_mainBtn, gcm.DISP_TYPE.DUAL_GRID, autoOptions, mainOptions);

		var subOptions = {
			ADD: [{cbFnc:scwin.btn_sub_add_onclick,nm:"추가",class:"add"}], DEL:[{cbFnc:scwin.btn_sub_del_onclick,nm:"삭제",class:"add"}]
					, CNL:{}, EXL_I:{}, EXL:{}, EXL_F:{} //, PLAY:{cbFnc:scwin.btn_sub_auto_onclick,nm:"자동",class:"autoApply"}
		};
		com.setSubBtn2(wfm_subBtn, autoOptions, subOptions);	
		
		var codeOptions = [{ code : "DAY_DIV", compID : "AL0201G0:DAY_DIV"}
							,{ code : "WAY_DIV", compID : "AL0201G0:WAY_DIV"}
						];
		com.setCommonDtl(codeOptions, function() {
				com.searchGrid(AL0201G0,sub_AL0201G0R0);
		});
		
		com.executeSubmission(sub_AL0201SHI0);
		//AL0201G0.mergeCells("byrestriccol");
	};

	scwin.onpageunload = function() {

	};
	
	scwin.sub_AL0201G0R0_submitdone = function(e) {
		
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SUCCESS) {
		
			com.setFocusedCell(AL0201G0, "REP_ROUT_NM");
		}
	};

	scwin.AL0201G0_onrowindexchange = function(row, oldRow) {
		dma_BRT_OPER_PL_MST.setJSON(dlt_BRT_OPER_PL_MST.getAllJSON()[row])
		var focusOption = {keyMap : dma_sub_search, keyMapColumn : "REP_ROUT_ID,WAY_DIV,DAY_DIV"};
		
		com.changeDualGrid2(AL0201G0, AL0201G1, sub_AL0201G1S0,
					sub_AL0201G1R0, focusOption , row, oldRow, "대표노선 운행계획 상세");
	};

	scwin.sub_AL0201G0S0_submitdone = function(e) {
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SAVE) {
			com.saveDone(AL0201G0,sub_AL0201G0R0);
		}
	};
	scwin.sub_operPlanRoutList_submitdone = function(e) {
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SUCCESS) {
			dlt_BRT_OPER_PL_ROUT_INFO.modifyAllStatus("C");
			var oldRoutStTm = "";
			for(var i = 0; i < dlt_BRT_OPER_PL_ROUT_INFO.getRowCount(); i++) {
				var routStTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ST_TM");
				var routEdTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ED_TM");
				
				var operTm = util.secondToTime(util.dateMinus(routStTm + ":00",  routEdTm + ":00")).substring(0,5);
				dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i, "OPER_TM", operTm);
				if(oldRoutStTm!=""){
					var operIntv = util.dateMinus(oldRoutStTm + ":00",  routStTm + ":00")/60;
					dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i-1, "OPER_INTV", operIntv);
				}
				oldRoutStTm = routStTm;
				
			}
			
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "OPER_CNT", dlt_BRT_OPER_PL_ROUT_INFO.getRowCount());
		}
	}

	scwin.btn_auto_onclick = function() {
		
		var valInfo = [ { id : "FST_TM", mandatory : true },
						{ id : "LST_TM", mandatory : true },
						{ id : "NONE_PEAK", mandatory : true } ];
						
		if (com.validateGridView2(AL0201G0, valInfo, AL0201G0.getFocusedRowIndex())) {
			if(dlt_BRT_OPER_PL_ROUT_INFO.getRowCount()>0){
				com.confirm("운행계획 상세를 자동으로 계산하며, 기존 데이터 초기화 됩니다. 운행계획 상세 자동 실행하시겠습니까?", function(rtn) {
					if (rtn) {
						com.executeSubmission(sub_operPlanRoutList);
					}
				});
			}
			else {
				com.executeSubmission(sub_operPlanRoutList);
			}
		}
	}
	
	scwin.btn_cancel_cb = function() {
		scwin.calc_OPER_TM_And_OPER_INTV();
	}
	
	scwin.AL0201G0_onviewchange = function(info) {
		if ((info.oldValue == "WD002") && (info.newValue == "WD001") || (info.oldValue == "WD001") && (info.newValue == "WD002")) {
			var stSttnId = dlt_BRT_OPER_PL_MST.getCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ID");
			var stSttnNm = dlt_BRT_OPER_PL_MST.getCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_NM");
			var stSttnEnm = dlt_BRT_OPER_PL_MST.getCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ENM");
			var edSttnId = dlt_BRT_OPER_PL_MST.getCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ID");
			var edSttnNm = dlt_BRT_OPER_PL_MST.getCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_NM");
			var edSttnEnm = dlt_BRT_OPER_PL_MST.getCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ENM");
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ID", edSttnId);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_NM", edSttnNm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ENM", edSttnEnm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ID", stSttnId);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_NM", stSttnNm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ENM", stSttnEnm);
		}
	}

	scwin.AL0201G0_oneditkeyup = function(info) {
		if ((info.keyCode == 13) && (info.colID == "REP_ROUT_ID" || info.colID == "REP_ROUT_NM")) {
			scwin.AL0201G0_ontextimageclick(info.rowIndex, info.colIndex);
		}
	};

	scwin.AL0201G0_ontextimageclick = function(row,col) {
		if(col == 0 || col == 1){
			var data = {callbackFn : "scwin.REP_ROUT_NM_SEARCH_callback" };
			var options = { id : "popUpRepRout",
							popupName : "대표노선 목록", 
							modal : true};
			com.openPopup("/cm/common/popUpRepRoutList.xml", options, data);
		}
		else if(col == 15){
			var data = {callbackFn : "scwin.ST_STTN_SEARCH_callback" };
			var options = { id : "popupSttn",
							popupName : "출발 정류소 목록", 
							modal : true};
			com.openPopup("/cm/common/popupSttnList.xml", options, data);	
		}
		else if(col == 16){
			var data = {callbackFn : "scwin.ED_STTN_SEARCH_callback" };
			var options = { id : "popupSttn",
							popupName : "종료 정류소 목록", 
							modal : true};
			com.openPopup("/cm/common/popupSttnList.xml", options, data);	
		}
	};
	
	scwin.REP_ROUT_NM_SEARCH_callback = function(obj) {
	
		var wayDiv = dlt_BRT_OPER_PL_MST.getCellData(AL0201G0.getFocusedRowIndex(), "WAY_DIV");
		var stSttnId =obj[0].ST_STTN_ID;
		var stSttnNm =obj[0].ST_STTN_NM;
		var stSttnEnm =obj[0].ST_STTN_ENM;
		var edSttnId =obj[0].ED_STTN_ID;
		var edSttnNm =obj[0].ED_STTN_NM;
		var edSttnEnm =obj[0].ED_STTN_ENM;
		
		if(wayDiv == "WD001"){
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ID", stSttnId);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_NM", stSttnNm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ENM", stSttnEnm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ID", edSttnId);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_NM", edSttnNm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ENM", edSttnEnm);
		}
		else {
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ID", edSttnId);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_NM", edSttnNm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ENM", edSttnEnm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ID", stSttnId);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_NM", stSttnNm);
			dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ENM", stSttnEnm);
		}
		
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "REP_ROUT_ID", obj[0].REP_ROUT_ID);
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "REP_ROUT_NM", obj[0].REP_ROUT_NM);
	};	

	scwin.ST_STTN_SEARCH_callback = function(obj) {
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_ID", obj[0].STTN_ID);
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ST_STTN_NM", obj[0].STTN_NM);
		//ST_STTN_NM.setValue(obj[0].STTN_NM);
	};
	
	scwin.ED_STTN_SEARCH_callback = function(obj) {
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_ID", obj[0].STTN_ID);
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "ED_STTN_NM", obj[0].STTN_NM);
		//ED_STTN_NM.setValue(obj[0].STTN_NM);
	};	
		
	scwin.sbx_ChoiceBox_onviewchange = function(info) {
		
		if (info.newValue == "ALL") {
			autoChoiceBox.hide();
			search_input.setValue("");
			search_input.show("");
		} else if (info.newValue == "REP_ROUT_ID") {
			search_input.hide();
			autoChoiceBox.setNodeSet("data:dlt_repRoutItem", "REP_ROUT_ID", "REP_ROUT_ID");
			autoChoiceBox.show("");
		} else if (info.newValue == "REP_ROUT_NM") {
			search_input.hide();
			autoChoiceBox.setNodeSet("data:dlt_repRoutItem", "REP_ROUT_NM", "REP_ROUT_NM");
			autoChoiceBox.show("");
		}
	};
	
	
	scwin.btn_sub_del_onclick = function() {
		//com.delGrid(AL0201G1,null,scwin.btn_sub_del_cb);
		
		com.delGridChecked(AL0201G1,null,scwin.btn_sub_del_cb);
	}
	
	scwin.btn_sub_del_cb = function() {
		var operCnt = com.setSerialNumberToData(AL0201G1,"OPER_SN");
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "OPER_CNT", operCnt);
		
		var fstTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(0, "ROUT_ST_TM");
		var lstTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(operCnt-1, "ROUT_ST_TM");
		
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "FST_TM", fstTm);
		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "LST_TM", lstTm);
	}
	
	scwin.btn_sub_add_onclick = function() {
	
		var operTm = "";
		
		if(AL0201G1.getFocusedRowIndex()<0){
			if(dlt_BRT_OPER_PL_ROUT_INFO.getRowCount()>0){
				operTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(dlt_BRT_OPER_PL_ROUT_INFO.getRowCount()-1,"OPER_TM");
			}
			insertIndex = dlt_BRT_OPER_PL_ROUT_INFO.insertRow();
		}
		else{
			operTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(AL0201G1.getFocusedRowIndex(),"OPER_TM");
			insertIndex = dlt_BRT_OPER_PL_ROUT_INFO.insertRow(AL0201G1.getFocusedRowIndex()+1);
		}
		var brtOperPlMst = dlt_BRT_OPER_PL_MST.getAllJSON()[AL0201G0.getFocusedRowIndex()];
		var operCnt = com.setSerialNumberToData(AL0201G1,"OPER_SN");
		
		dlt_BRT_OPER_PL_ROUT_INFO.setCellData(insertIndex, "REP_ROUT_ID", brtOperPlMst.REP_ROUT_ID);
		dlt_BRT_OPER_PL_ROUT_INFO.setCellData(insertIndex, "WAY_DIV", brtOperPlMst.WAY_DIV);
		dlt_BRT_OPER_PL_ROUT_INFO.setCellData(insertIndex, "DAY_DIV", brtOperPlMst.DAY_DIV);
		dlt_BRT_OPER_PL_ROUT_INFO.setCellData(insertIndex, "OPER_TM", operTm);

		dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "OPER_CNT", operCnt);
		
		AL0201G1.setFocusedCell(insertIndex, "OPER_SN", true);
	}	
	
	scwin.btn_sub_auto_onclick = function() {
		
	}
	
	scwin.sub_AL0201G1R0_submitdone = function(e) {
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SUCCESS) {
			scwin.calc_OPER_TM_And_OPER_INTV();
			dlt_BRT_OPER_PL_ROUT_INFO.modifyAllStatus("R");
		}
	};
		
	scwin.sub_AL0201G1S0_submitdone = function(e) {
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SAVE) {
			com.saveDone(AL0201G1,sub_AL0201G1R0);
		}			
	};
	
	scwin.calc_OPER_TM_And_OPER_INTV = function(){
		var oldRoutStTm = "";
		for(var i = 0; i < dlt_BRT_OPER_PL_ROUT_INFO.getRowCount(); i++) {
			var routStTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ST_TM");
			var routEdTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ED_TM");
			
			var operTm = util.secondToTime(util.dateMinus(routStTm + ":00",  routEdTm + ":00")).substring(0,5);
			dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i, "OPER_TM", operTm);
			if(oldRoutStTm!=""){
				var operIntv = util.dateMinus(oldRoutStTm + ":00",  routStTm + ":00")/60;
				dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i-1, "OPER_INTV", operIntv);
			}
			oldRoutStTm = routStTm;
			
		}
	}
	
	scwin.setROUT_ST_TM = function(rowIndex, value){
		
		var routStTm = "";
		var routStTm2 = "";
		var routEdTm = "";
		var operIntv = "";
		isEditKeySkip = true;
		var rowCount = dlt_BRT_OPER_PL_ROUT_INFO.getRowCount();
		dlt_BRT_OPER_PL_ROUT_INFO.setCellData(rowIndex, "ROUT_ST_TM", value);
		for(var i = rowIndex; i < rowCount; i++) {
			if(i==rowIndex){
				routStTm = value;
				if(i>0){
					var beforeRoutStTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i-1, "ROUT_ST_TM");
					var operIntv = util.dateMinus(beforeRoutStTm + ":00",  routStTm + ":00")/60;
					dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i-1, "OPER_INTV", operIntv);
				}
				
				if(i<rowCount-1){
					var operIntv = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "OPER_INTV");
					if(com.isEmpty(operIntv)){
						var operIntv = util.dateMinus(routStTm + ":00", afterRoutStTm + ":00")/60;
						dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i, "OPER_INTV", operIntv);
					}
					else {
						routStTm2 = util.secondToTime(util.datePlus2(routStTm, operIntv*60)).substring(0,5);
						dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i+1, "ROUT_ST_TM", routStTm2);
					}
				}
				
				var operTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "OPER_TM");
				var routEdTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ED_TM");
				if((com.isEmpty(operTm)==false)){
					routEdTm = util.secondToTime(util.datePlus(routStTm, operTm)).substring(0,5);
					dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i, "ROUT_ED_TM", routEdTm);
				}
				else if((com.isEmpty(routStTm)==false)&&(com.isEmpty(routEdTm)==false)){
					var operTm = util.secondToTime(util.dateMinus(routStTm + ":00",  routEdTm + ":00")).substring(0,5);
					dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i, "OPER_TM", operTm);
				}
			}
			else{
				routStTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ST_TM");
				
				operIntv = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "OPER_INTV");
				routStTm2 = util.secondToTime(util.datePlus2(routStTm, operIntv*60)).substring(0,5);
				dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i+1, "ROUT_ST_TM", routStTm2);
				
				routEdTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ED_TM");
			
				var operTm = util.secondToTime(util.dateMinus(routStTm + ":00",  routEdTm + ":00")).substring(0,5);
				dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i, "OPER_TM", operTm);
			}				
		}
		
		isEditKeySkip = false;
	}
	
	scwin.setROUT_ED_TM = function(rowIndex, value){
		var routStTm = "";
		var routEdTm = "";
		var routEdTm2 = "";
		var operIntv = "";
		isEditKeySkip = true;
		dlt_BRT_OPER_PL_ROUT_INFO.setCellData(rowIndex, "ROUT_ED_TM", value);
		/*for(var i = rowIndex; i < dlt_BRT_OPER_PL_ROUT_INFO.getRowCount()-1; i++) {
			if(i==rowIndex)routEdTm = value;
			else routEdTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ED_TM");
			
			operIntv = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "OPER_INTV");
			routEdTm2 = util.secondToTime(util.datePlus2(routEdTm, operIntv*60)).substring(0,5);
			dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i+1, "ROUT_ED_TM", routEdTm2);					
		}*/
		
		routStTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(rowIndex, "ROUT_ST_TM");
		
		var operTm = util.secondToTime(util.dateMinus(routStTm + ":00",  value + ":00")).substring(0,5);
		dlt_BRT_OPER_PL_ROUT_INFO.setCellData(rowIndex, "OPER_TM", operTm);
		isEditKeySkip = false;
	}
	
	scwin.setOPER_TM = function(rowIndex, value){
		var routStTm = "";
		var routEdTm = "";
		var routEdTm2 = "";
		var operIntv = "";
		isEditKeySkip = true;
		dlt_BRT_OPER_PL_ROUT_INFO.setCellData(rowIndex, "OPER_TM", value);
		isEditKeySkip = false;
	}
	

	scwin.setOPER_INTV = function(focusIndex,rowIndex, value, data){
		var operIntv = "";
		var routStTm = "";
		var routStTm2 = "";
		var routEdTm = "";
		var routEdTm2 = "";
		isEditKeySkip = true;
		if(focusIndex!=rowIndex){
			dlt_BRT_OPER_PL_ROUT_INFO.setCellData(rowIndex, "OPER_INTV", value);
		}
		for(var i = rowIndex; i < dlt_BRT_OPER_PL_ROUT_INFO.getRowCount()-1; i++) {
			if(i==rowIndex){
				operIntv = value;
			}
			else {
				operIntv = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "OPER_INTV");
			}
			routStTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ST_TM");
			routStTm2 = util.secondToTime(util.datePlus2(routStTm, operIntv*60)).substring(0,5);
			dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i+1, "ROUT_ST_TM", routStTm2);					
		}
		
		for(var i = rowIndex; i < dlt_BRT_OPER_PL_ROUT_INFO.getRowCount()-1; i++) {
			if(i==rowIndex){
				operIntv = value;
			}
			else {
				operIntv = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "OPER_INTV");	
			}
			routEdTm = dlt_BRT_OPER_PL_ROUT_INFO.getCellData(i, "ROUT_ED_TM");
			routEdTm2 = util.secondToTime(util.datePlus2(routEdTm, operIntv*60)).substring(0,5);
			dlt_BRT_OPER_PL_ROUT_INFO.setCellData(i+1, "ROUT_ED_TM", routEdTm2);					
		}
		isEditKeySkip = false;
	}
	
	scwin.AL0201G1_onafteredit = function(row,col,value) {
		
		if(isEditKeySkip)return;
		var rowCnt = dlt_BRT_OPER_PL_ROUT_INFO.getRowCount();
		var columnId =AL0201G1.getColumnID(col);
		if (columnId == "ROUT_ST_TM") {
			
			if(row==0)
				dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "FST_TM", com.transTime2(value));
			if(row==(rowCnt-1))
				dlt_BRT_OPER_PL_MST.setCellData(AL0201G0.getFocusedRowIndex(), "LST_TM", com.transTime2(value));
			
			if(value.length == 4){
				value = com.transTime2(value);
			}
			
			if(value.length == 5){
				scwin.setROUT_ST_TM(row,value);
			}
		}
		
		if (columnId == "ROUT_ED_TM") {
			if(value.length == 4){
				value = com.transTime2(value);
			}
			
			if(value.length == 5){
				scwin.setROUT_ED_TM(row,value);
			}
		}
		
		if (columnId == "OPER_TM") {
			if(value.length == 4){
				value = com.transTime2(value);
			}
			
			if(value.length == 5){
				scwin.setOPER_TM(row,value);
			}
		}
		
		if (columnId == "OPER_INTV") {
			
			var jsonIndex = AL0201G1.getCheckedIndex("chk");
			for(var i=0; i<jsonIndex.length; i++){
				scwin.setOPER_INTV(row,jsonIndex[i], value);
			}
			if(jsonIndex.length==0) {
				scwin.setOPER_INTV(row,row, value);
			}
			else {
				AL0201G1.checkAll("chk", false);
				com.alert("선택된 항목에 운행간격 적용하였습니다.");
			}
		}
	};
	
	]]></script>
	</head>
	<body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
		<xf:group id="pgm_container" class="pgm_container grdr_41_36_a" style="">
			<xf:group id="pgm_navi" class="pgm_navi" style="">
				<w2:wframe id="wfm_navi" style="" src="/cm/common/wf_navi.xml" scope="true"></w2:wframe>
			</xf:group>
			
			<xf:group id="pgm_header" class="pgm_header" style="">
				<xf:group id="" style="" class="gr_search">
					<xf:group id="" style="" class="label">
							<w2:span id="" class="" label="검색 항목"></w2:span>
					</xf:group>
					<xf:group id="" style="" class="search">
						<xf:select1 allOption="" appearance="minimal" chooseOption="" direction="auto" disabled="false"
							ev:onviewchange="scwin.sbx_ChoiceBox_onviewchange" disabledClass="w2selectbox_disabled" displayMode="label" id="TYPE"
							optionOrder="false" ref="data:dma_search.TYPE" class="search_type_100" style="" submenuSize="auto"
							textAlign="left">
							<xf:choices>
								<xf:item>
									<xf:label><![CDATA[전체]]></xf:label>
									<xf:value><![CDATA[ALL]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[대표노선ID]]></xf:label>
									<xf:value><![CDATA[REP_ROUT_ID]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[대표노선명]]></xf:label>
									<xf:value><![CDATA[REP_ROUT_NM]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select1>
						<xf:input id="search_input" class="search_input" ref="data:dma_search.CONTENT" placeholder="대표노선 ID 또는 대표노선명"></xf:input>
						<w2:autoComplete allOption="" caseSensitive="false" chooseOption="true" chooseOptionLabel="-전체-"
							chooseOptionValue="" displayMode="label" editType="select" emptyItem="" emptyValue="" ev:onchange="" ev:onviewchange=""
							id="autoChoiceBox" interactionMode="" noResult="useData" ref="" search="start" selectedData=""
							class="search_auto" style="display:none" submenuSize="auto" textAlign="left" useKeywordHighlight="false" visibleRowNum="">
							<w2:choices>
								<w2:itemset nodeset="data:dlt_repRoutItem">
									<w2:label ref="REP_ROUT_NM"></w2:label>
									<w2:value ref="REP_ROUT_ID"></w2:value>
								</w2:itemset>
							</w2:choices>
						</w2:autoComplete>
					</xf:group>
					<w2:wframe id="wfm_mainBtn" class="main_Btn" style="" src="/cm/common/wf_mainBtn.xml" scope="true"></w2:wframe>
				</xf:group>
			</xf:group><!-- pgm_header -->
			<xf:group id="pgm_content" class="pgm_content grdc_a_20_550" style="">
				<xf:group id="pgm_list" class="pgm_list grdr_20_2_a" style="">
					<xf:group id="" class="" style="">
						<xf:group class="defaultbox" id="" style="">
							<w2:textbox class="df_tt fl" id="" label="대표노선 운행계획" style=""></w2:textbox>
						</xf:group>
					</xf:group>
					<xf:group></xf:group>
					<xf:group id="" class="" style="">
						<w2:gridView id="AL0201G0" sortEvent="onclick" ev:onrowindexchange="scwin.AL0201G0_onrowindexchange" ev:onviewchange="scwin.AL0201G0_onviewchange" 
							ev:oneditkeyup="scwin.AL0201G0_oneditkeyup" ev:ontextimageclick="scwin.AL0201G0_ontextimageclick" editModeEvent="onclick"
							groupbyZoneHeight="" showSortableImage="" useShiftKey="true" scrollByColumn="true" sortable="true" rowStatusHeaderValue="상태"
							rowStatusVisible="false" fixedColumnWithHidden="true" dataList="dlt_BRT_OPER_PL_MST" keyMoveEditMode="true" ignoreCellClick="false"
							style="" autoFit="" visibleRowNum="" 
							ev:onafteredit="" class="cm_grid left AL0201G0" autoFitMinWidth="" rowNumHeaderValue="순서" rowNumVisible="true">
							<w2:header id="header1" style="">
								<w2:row id="row2" style="">
									<!-- <w2:column id="chk" blockSelect="false" style="height:20px;" width="40" inputType="checkbox" value=""
										displayMode="label" fixColumnWidth="true">
									</w2:column> -->
									<w2:column removeBorderStyle="false" width="80" inputType="text" style="height:20px;" id="column1"
										value="대표노선ID" blockSelect="false" displayMode="label" userData1="M" class="req">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px;" id="column2"
										value="대표 노선" blockSelect="false" displayMode="label" userData1="M" class="req">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px;" id="column3"
										value="요일 구분" blockSelect="false" displayMode="label" userData1="M" class="req">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px;" id="column4"
										value="상하행" blockSelect="false" displayMode="label" userData1="M" class="req">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px" id="column5"
										value="운행 횟수" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px" id="column6"
										value="배차 횟수" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px" id="column7"
										value="첫차 시간 (시분)" blockSelect="false" displayMode="label" userData1="M" class="req">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px" id="column8"
										value="막차 시간 (시분)" blockSelect="false" displayMode="label" userData1="M" class="req">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px" id="column9"
										value="운행 간격 (분)" blockSelect="false" displayMode="label" userData1="M" class="req">
									</w2:column>
									<w2:column removeBorderStyle="false" width="50" inputType="text" style="height:20px" id="column10"
										value="오전첨두시 간격      (분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="50" inputType="text" style="height:20px" id="column11"
										value="오후첨두시 간격      (분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="60" inputType="text" style="height:20px" id="column12"
										value="오전첨두시작(시분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="60" inputType="text" style="height:20px" id="column13"
										value="오전첨두종료(시분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="60" inputType="text" style="height:20px" id="column14"
										value="오후첨두시작(시분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="60" inputType="text" style="height:20px" id="column15"
										value="오후첨두종료(시분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="170" inputType="text" style="height:20px" id="column16"
										value="기점명" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="170" inputType="text" style="height:20px" id="column17"
										value="종점명" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="100%" inputType="text" style="height:20px" id="column18"
										value="비고" blockSelect="false" displayMode="label">
									</w2:column>
								</w2:row>
							</w2:header>
							<w2:gBody id="gBody4" style="">
								<w2:row id="row5" style="">
									<!-- <w2:column id="chk" blockSelect="false" style="height:20px;" width="40" inputType="checkbox"
										displayMode="label">
									</w2:column> -->
									<w2:column id="REP_ROUT_ID" blockSelect="false" width="" inputType="text"
										readOnly="true" viewType="" chooseOptionLabel="" userData1="M">
									</w2:column>
									<w2:column id="REP_ROUT_NM" blockSelect="false" width="" inputType="textImage" textAlign="left"
										imageSrc="/cm/images/inc/btn_search.png" readOnly="" viewType="" imageHeight="20" imageWidth="20" chooseOptionLabel="" userData1="M">
									</w2:column>
									<w2:column removeBorderStyle="false" width="" inputType="select" style="height:20px" id="DAY_DIV"
										userData1="M" value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="" inputType="select" style="height:20px" id="WAY_DIV"
										userData1="M" value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column id="OPER_CNT" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9" dataType="number" defaultValue="0">
									</w2:column>
									<w2:column id="ALLOC_CNT" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9" dataType="number" defaultValue="0">
									</w2:column>
									<w2:column id="FST_TM" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="" userData1="M">
									</w2:column>
									<w2:column id="LST_TM" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="" userData1="M">
									</w2:column>
									<w2:column id="NONE_PEAK" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2" userData1="M">
									</w2:column>
									<w2:column id="AM_PEAK" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2">
									</w2:column>
									<w2:column id="PM_PEAK" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2">
									</w2:column>
									<w2:column id="AM_PEAK_ST_TM" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2">
									</w2:column>
									<w2:column id="AM_PEAK_ED_TM" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2">
									</w2:column>
									<w2:column id="PM_PEAK_ST_TM" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2">
									</w2:column>
									<w2:column id="PM_PEAK_ED_TM" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2">
									</w2:column>
									<w2:column id="ST_STTN_NM" blockSelect="false" width="" inputType="textImage" textAlign="left"
										imageSrc="/cm/images/inc/btn_search.png" readOnly="" viewType="" imageHeight="20" imageWidth="20" chooseOptionLabel="">
									</w2:column>
									<w2:column id="ED_STTN_NM" blockSelect="false" width="" inputType="textImage" textAlign="left"
										imageSrc="/cm/images/inc/btn_search.png" readOnly="" viewType="" imageHeight="20" imageWidth="20" chooseOptionLabel="">
									</w2:column>
									<w2:column id="REMARK" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label">
									</w2:column>
								</w2:row>
							</w2:gBody>
							<w2:footer style="" id="footer1">
								<w2:row style="" id="row3">
									<w2:column removeBorderStyle="false" width="" inputType="expression" style="height:20px;" id="column42" value=""
										blockSelect="false" displayMode="label" colSpan="18" rowSpan="" expression="&quot;데이터 개수 : &quot; + COUNT('COMP_ID')"
										textAlign="left">
									</w2:column>
									<!-- <w2:column removeBorderStyle="false" width="70" inputType="text" style="height:20px" id="column51" value=""
										blockSelect="false" displayMode="label">
									</w2:column> -->
								</w2:row>
							</w2:footer>
						</w2:gridView>
					</xf:group>
				</xf:group><!-- pgm_list -->
				<xf:group id="" class="vertical_line">
				</xf:group>
				<xf:group id="pgm_detail" class="pgm_detail grdr_20_2_a" style="">
					<xf:group id="" class="gr_sub_header" style="">
						<xf:group class="defaultbox" id="" style="">
							<w2:textbox class="df_tt fl" id="" label="운행계획 상세" style=""></w2:textbox>
						</xf:group>
						<w2:wframe id="wfm_subBtn" class="" style="" src="/cm/common/wf_subBtn.xml" scope="true"></w2:wframe>
					</xf:group>
					<xf:group></xf:group>
					<xf:group id="" class="" style="">
						<w2:gridView ignoreCellClick="false" autoFit="allColumn" rowStatusWidth="40" visibleRowNum="" class="cm_grid right AL0201G1"
							fixedColumnWithHidden="true" dataList="dlt_BRT_OPER_PL_ROUT_INFO" id="AL0201G1" readOnly="" style=""
							scrollByColumn="false" useShiftKey="true" rowStatusVisible="false" rowStatusHeaderValue="상태" 
							rowNumHeaderValue="순번" rowNumVisible="false" rowNumStatusUniqueId="" rowNumStatusResize="" ev:oneditkeyup="" ev:onafteredit="scwin.AL0201G1_onafteredit">
							<w2:header id="header1" style="">
								<w2:row id="row2" style="">
									<w2:column removeBorderStyle="false" width="40" inputType="checkbox" style="height:20px" id="chkHeader"
										value="선택" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="0" inputType="text" style="height:20px" id="column1"
										value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="0" inputType="text" style="height:20px" id="column2"
										value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="0" inputType="text" style="height:20px" id="column3"
										value="" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="40" inputType="text" style="height:20px" id="column25"
										value="운행순번" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="70" inputType="text" style="height:20px" id="column21"
										value="노선시작(시분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="70" inputType="text" style="height:20px" id="column22"
										value="노선종료(시분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="65" inputType="text" style="height:20px" id="column23"
										value="운행간격(분)" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="65" inputType="text" style="height:20px" id="column24"
										value="운행시간(시분)" blockSelect="false" displayMode="label">
									</w2:column>
								</w2:row>
							</w2:header>
							<w2:gBody id="gBody4" style="">
								<w2:row id="row5" style="">
									<w2:column falseValue="0" defaultValue="" trueValue="1" width="39" readOnly="false" style="height:20px"
										inputType="checkbox" id="chk" blockSelect="false">
									</w2:column>
									<w2:column id="REP_ROUT_ID" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label">
									</w2:column>
									<w2:column id="DAY_DIV" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label">
									</w2:column>
									<w2:column id="WAY_DIV" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label">
									</w2:column>
									<w2:column id="OPER_SN" blockSelect="false" style="height:20px;" width="" inputType="text"
										displayMode="label">
									</w2:column>
									<w2:column id="ROUT_ST_TM" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2" userData1="M">
									</w2:column>
									<w2:column id="ROUT_ED_TM" blockSelect="false" style="height:20px" width="" inputType="text"
										displayMode="label" allowChar="0-9 :" customFormatter="com.transTime2" userData1="M">
									</w2:column>
									<w2:column id="OPER_INTV" blockSelect="false" style="height:20px;" width="" inputType="text"
										displayMode="label">
									</w2:column>
									<w2:column id="OPER_TM" blockSelect="false" style="height:20px;" width="" inputType="text"
										readonly="" displayMode="label">
									</w2:column>
								</w2:row>
							</w2:gBody>
							<w2:footer id="footer1" style="">
								<w2:row id="row3" style="">
									<w2:column blockSelect="false" colSpan="9" displayMode="label"
										expression="&quot;데이터 개수 : &quot; + COUNT('COMP_ID')" id="column42" inputType="expression" removeBorderStyle="false"
										style="height:20px;" textAlign="left" width="1830">
									</w2:column>
								</w2:row>
							</w2:footer>
						</w2:gridView>
				</xf:group>
			</xf:group> <!-- pgm_detail -->
		</xf:group>
	</xf:group>
	</body>
</html>