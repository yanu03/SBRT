<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/cm/css/all.css" type="text/css"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head>
		<!-- 
		#####################################################################
		파일명 : SM0500M01.xml
		프로그램명 : 조직 관리 
		설 명 : 조직을 관리(등록,수정,삭제)하는 화면
		작성자 : Inswave Systems
		작성일 : 2016.10.24
		
		수정일자	  수정자			 수정내용
		=====================================================================
		2016.10.24	Inswave Systems	최초작성
		2018.01.26	Inswave Systems	WebSquare5 SP2 기능을 적용하도록 소스 업그레이드
		2018.11.12	Inswave Systems	WebSquare5 SP3 기능을 적용하도록 소스 업그레이드
		#####################################################################
		-->
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_BMS_NOTICE_MST" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="NOTICE_ID" name="공지아이디" dataType="text"></w2:column>
						<w2:column id="VHC_NO" name="차량수신자" dataType="text"></w2:column>
						<w2:column id="STTN_RCPT_IDS" name="정류소수신자" dataType="text"></w2:column>
						<w2:column id="TITLE" name="제목" dataType="text"></w2:column>
						<w2:column id="SEND_DIV" name="전송구분" dataType="text"></w2:column>
						<w2:column id="SEND_STS" name="전송상태" dataType="text"></w2:column>
						<w2:column id="REG_DTM" name="등록일시" dataType="date"></w2:column>
						<w2:column id="RSV_DTM" name="예약일시" dataType="date"></w2:column>
						<w2:column id="SEND_DTM" name="전송일시" dataType="date"></w2:column>
						<w2:column id="UPD_DTM" name="갱신일시" dataType="date"></w2:column>
						<w2:column id="CONTENTS" name="내용" dataType="text"></w2:column>
						<w2:column id="UPD_ID" name="갱신아이디" dataType="text"></w2:column>

					</w2:columnInfo>
					<w2:data use="false"></w2:data>
				</w2:dataList>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_BMS_VHC_MST" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="VHC_ID" name="차량아이디" dataType="text"></w2:column>
						<w2:column id="COMP_ID" name="운수사아이디" dataType="text"></w2:column>
						<w2:column id="AREA" name="권역" dataType="text"></w2:column>
						<w2:column id="VHC_NO" name="차량번호" dataType="text"></w2:column>
						<w2:column id="CHAS_NO" name="차대번호" dataType="text"></w2:column>
						<w2:column id="MAKER" name="제조사" dataType="text"></w2:column>
						<w2:column id="RELS_DT" name="출고일자" dataType="text"></w2:column>

						<w2:column id="MODEL_NM" name="모델명" dataType="text"></w2:column>
						<w2:column id="VHC_KIND" name="차량종류" dataType="text"></w2:column>
						<w2:column id="ROUT_DIV" name="노선구분" dataType="text"></w2:column>
						<w2:column id="VHC_TYPE" name="차량유형" dataType="text"></w2:column>
						<w2:column id="VHC_FUEL" name="차량연료" dataType="text"></w2:column>
						<w2:column id="VHC_STS" name="버스상태" dataType="text"></w2:column>
						<w2:column id="PSG_CNT" name="승차인원" dataType="text"></w2:column>
						<w2:column id="SPARE_YN" name="예비차여부" dataType="text"></w2:column>
						<w2:column id="SCRAP_YN" name="대폐차여부" dataType="text"></w2:column>
						<w2:column id="APPL_ST_DT" name="적용시작일" dataType="text"></w2:column>
						<w2:column id="APPL_ED_DT" name="적용종료일" dataType="text"></w2:column>
						<w2:column id="USE_YN" name="사용여부" dataType="text"></w2:column>
						<w2:column id="REMARK" name="비고" dataType="text"></w2:column>
						<w2:column id="UPD_DTM" name="갱신일시" dataType="text"></w2:column>
						<w2:column id="UPD_ID" name="갱신아이디" dataType="text"></w2:column>
						<w2:column id="COMP_NM" name="운수사명" dataType="text"></w2:column>
						<w2:column id="NOTICE_ID" name="공지아이디" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataMap baseNode="map" id="dma_BMS_NOTICE_MST">
					<w2:keyInfo>
						<w2:key id="SContent" name="검색내용" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_BMS_STTN_MST" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="STTN_ID" name="정류소아이디" dataType="text"></w2:column>
						<w2:column id="NODE_ID" name="노드아이디" dataType="text"></w2:column>
						<w2:column id="STTN_NM" name="정류소명" dataType="text"></w2:column>
						<w2:column id="STTN_ENM" name="정류소영문명" dataType="text"></w2:column>
						<w2:column id="AREA" name="권역" dataType="text"></w2:column>
						<w2:column id="STTN_NO" name="정류소번호" dataType="text"></w2:column>
						<w2:column id="CENTER_YN" name="중앙차로여부" dataType="text"></w2:column>
						<w2:column id="STTN_FCLT_TYPE" name="정류소시설유형" dataType="text"></w2:column>
						<w2:column id="GPS_X" name="GPS_X좌표" dataType="text"></w2:column>
						<w2:column id="GPS_Y" name="GPS_Y좌표" dataType="text"></w2:column>
						<w2:column id="TM_X" name="TM_X좌표" dataType="text"></w2:column>
						<w2:column id="TM_Y" name="TM_Y좌표" dataType="text"></w2:column>
						<w2:column id="APPL_RDS" name="적용반경" dataType="text"></w2:column>
						<w2:column id="BAY_TYPE" name="베이유형" dataType="text"></w2:column>
						<w2:column id="BAY_LEN" name="베이길이" dataType="text"></w2:column>
						<w2:column id="LINE_CNT" name="차선수" dataType="text"></w2:column>
						<w2:column id="APPL_ST_DT" name="적용시작일" dataType="text"></w2:column>
						<w2:column id="APPL_ED_DT" name="적용종료일" dataType="text"></w2:column>
						<w2:column id="USE_YN" name="사용여부" dataType="text"></w2:column>
						<w2:column id="REMARK" name="비고" dataType="text"></w2:column>
						<w2:column id="UPD_DTM" name="갱신일시" dataType="text"></w2:column>
						<w2:column id="UPD_ID" name="갱신아이디" dataType="text"></w2:column>
						<w2:column id="NOTICE_ID" name="공지아이디" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataMap baseNode="map" id="dma_sub_search">
					<w2:keyInfo>
						<w2:key id="NOTICE_ID" name="공지아이디" dataType="text"></w2:key>

						<w2:key id="VHC_IDS" name="차량아이디" dataType="text"></w2:key>
						<w2:key id="COMP_IDS" name="정류소아이디" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_SEQ_BMS_NOTICE_MST_0">
					<w2:keyInfo>
						<w2:key id="SEQ" name="SEQ" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
			<xf:submission id="sub_PI0100G0R0" ref="data:json,dma_BMS_NOTICE_MST" target="data:json,dlt_BMS_NOTICE_MST"
				action="/pi/PI0100G0R0" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
				customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="scwin.sub_PI0100G0R0_submitdone" ev:submiterror=""
				abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_PI0100G0S0" ref='data:json,{"action":"modified","id":"dlt_BMS_NOTICE_MST"}'
				target="data:json,dlt_BMS_NOTICE_MST" action="/pi/PI0100G0S0" method="post" mediatype="application/json" encoding="UTF-8" instance=""
				replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror=""
				abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_PI0100G1R0" ref="data:json,dma_sub_search" target="data:json,dlt_BMS_VHC_MST" action="/pi/PI0100G1R0"
				method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_PI0100G2R0" ref="data:json,dma_sub_search" target="data:json,dlt_BMS_STTN_MST" action="/pi/PI0100G2R0"
				method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_PI0100G1S0" ref="data:json,dlt_BMS_VHC_MST" target="data:json,dlt_BMS_VHC_MST" action="/pi/PI0100G1S0"
				method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_PI0100G0K0" ref="" target="data:json,dma_SEQ_BMS_NOTICE_MST_0" action="/pi/PI0100G0K0" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg=""
				ev:submit="" ev:submitdone="scwin.sub_PI0100G0K0_submitdone" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sub_PI0100G2S0" ref='data:json,{"action":"modified","id":"dlt_BMS_STTN_MST"}'
				target="data:json,dlt_BMS_STTN_MST" action="/pi/PI0100G2S0" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace=""
				errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="scwin.sub_PI0100G2S0_submitdone" ev:submiterror="" abortTrigger="">
			</xf:submission>
		</xf:model>
		<script type="text/javascript" lazy="false"><![CDATA[
	scwin.onpageload = function() {
		$p.executeSubmission(sub_PI0100G0R0);
		/*
		var btnOptions = 
		[
			{userStr:"조회", auth: gcm.BTN.SEARCH, cbFnc: scwin.btn_search_onclick},
			{userStr:"추가", auth: gcm.BTN.ADD , cbFnc: scwin.btn_add_onclick},
			{userStr:"삭제", auth: gcm.BTN.DEL, cbFnc: scwin.btn_del_onclick},
			{userStr:"저장", auth: gcm.BTN.SAVE, cbFnc: scwin.btn_save_onclick},
			{userStr:"전송", auth: gcm.BTN.EXL, cbFnc: scwin.btn_send_onclick},
			{userStr:"전송취소", auth: gcm.BTN.CNL, cbFnc: scwin.btn_cancel_onclick},
			{userStr:"닫기", auth: gcm.BTN.CLOSE, cbFnc: scwin.btn_close_onclick}
		];
		com.setMainBtn(btnOptions, btn_main_generator);
		var btnOptions2 = 
		[
			{userStr:"추가", auth: gcm.BTN.ADD , cbFnc: scwin.btn2_add_onclick},
			{userStr:"삭제", auth: gcm.BTN.DEL, cbFnc: scwin.btn2_del_onclick},
		];
		com.setSubBtn(btnOptions2, btn_sub_generator);
		var btnOptions3 = 
		[
			{userStr:"추가", auth: gcm.BTN.ADD , cbFnc: scwin.btn3_add_onclick},
			{userStr:"삭제", auth: gcm.BTN.DEL, cbFnc: scwin.btn3_del_onclick},
		];
		com.setSubBtn(btnOptions3, btn_sub2_generator);
		*/
		var autoOptions = {
			Main : { grid : PI0100G0, srchSbm : sub_PI0100G0R0, savSbm : sub_PI0100G0S0, keySbm : sub_PI0100G0K0 },
			Sub1 : { grid : PI0100G1, srchSbm : sub_PI0100G1R0, savSbm : sub_PI0100G1S0},
			Sub2 : { grid : PI0100G2, srchSbm : sub_PI0100G2R0, savSbm : sub_PI0100G2S0}
		};
		com.setMainBtn2(wfm_mainBtn, gcm.DISP_TYPE.DUAL_GRID, autoOptions);
		var subOptions = {
			ADD: scwin.btn2_add_onclick,
			DEL:{},
			CNL:{}
		};
		com.setSubBtn2(wfm_subBtn, autoOptions, subOptions);		
	};	

	scwin.btn_search_onclick = function() {
		com.searchGrid(PI0100G0, sub_PI0100G0R0, sub_PI0100G0S0);
	};
	scwin.btn_add_onclick = function() {
		$p.executeSubmission(sub_PI0100G0K0);
	};
	scwin.btn2_add_onclick = function() {
		var focusRowIdx = scwin.idxRowAuthority;
		var val_VHC_ID = dlt_BMS_VHC_MST.getColData("VHC_ID");
		//dma_sub_search.set("VHC_IDS", val_VHC_ID);
		
		if (focusRowIdx == -1) {
			com.alert("메일 선택후 권한별 등록사용자을 등록하실 수 있습니다.");
		} else {
			var rowStatus = dlt_BMS_NOTICE_MST.getRowStatus(focusRowIdx);
			var val_NOTICE_ID = dma_sub_search.get("NOTICE_ID");
			if (val_NOTICE_ID != null) {
				var data = { data : dma_sub_search.getJSON(), callbackFn : "scwin.insertPopupData" };
				var options = { id : "PI0100P01",
								popupName : "차량 추가", 
								modal : true, 
								width : 560, height: 400 };
				com.openPopup("/ui/BMS/PI0100/PI0100P01.xml", options, data);
			}			
		}
	};
	
	scwin.btn3_add_onclick = function() {
		var focusRowIdx = scwin.idxRowAuthority;
		if (focusRowIdx == -1) {
			com.alert("메일 선택후 권한별 등록사용자을 등록하실 수 있습니다.");
		} else {
			var rowStatus = dlt_BMS_NOTICE_MST.getRowStatus(focusRowIdx);
			var val_NOTICE_ID = dma_sub_search.get("NOTICE_ID");
			if (val_NOTICE_ID != null) {
				var data = { data : dma_sub_search.getJSON(), callbackFn : "scwin.insertPopupData2" };
				var options = { id : "PI0100P02",
								popupName : "정류소 추가", 
								modal : true, 
								width : 560, height: 400 };
				com.openPopup("/ui/BMS/PI0100/PI0100P02.xml", options, data);
			}
		}
	};
	
	scwin.insertPopupData = function(obj) {
		var dLength = obj.length;
		for (i = 0; i < dLength; i++) {
			var data = dlt_BMS_VHC_MST.getMatchedIndex("VHC_ID", obj[i].VHC_ID, true);
			if (data.length == 0) {
				obj[i].chk = "0";
				var idx = dlt_BMS_VHC_MST.insertRow();
				dlt_BMS_VHC_MST.setRowJSON(idx, obj[i], true);
			}
		}
	};
	
	scwin.insertPopupData2 = function(obj) {
		var dLength = obj.length;
		for (i = 0; i < dLength; i++) {
			var data = dlt_BMS_STTN_MST.getMatchedIndex("STTN_ID", obj[i].VHC_ID, true);
			if (data.length == 0) {
				obj[i].chk = "0";
				var idx = dlt_BMS_STTN_MST.insertRow();
				dlt_BMS_STTN_MST.setRowJSON(idx, obj[i], true);
			}
		}
	};	

	scwin.btn_save_onclick = function() {
		//com.saveGrid(PI0100G0, sub_PI0100G0S0);
		com.saveGridForm(PI0100G0, PI0100F0, sub_PI0100G0S0);
		var val_NOTICE_ID = dlt_BMS_NOTICE_MST.getCellData(scwin.idxRowAuthority, dlt_BMS_NOTICE_MST.getColumnIndex("NOTICE_ID"))
		for (var i=0; i < dlt_BMS_VHC_MST.getAllData().length; i++){
			dlt_BMS_VHC_MST.setCellData(i, "NOTICE_ID", val_NOTICE_ID)	
		}
		for (var i=0; i < dlt_BMS_STTN_MST.getAllData().length; i++){
			dlt_BMS_STTN_MST.setCellData(i, "NOTICE_ID", val_NOTICE_ID)	
		}		
		// TODO : 전송차량 저장, save로직에 한번에 처리되도록 수정하기
		com.saveGrid(PI0100G1, sub_PI0100G1S0);
		com.saveGrid(PI0100G2, sub_PI0100G2S0);

	};
		
	scwin.PI0100G0_onrowindexchange = function(row, oldRow) {
		scwin.idxRowAuthority = row;
		var val_NOTICE_ID = dlt_BMS_NOTICE_MST.getCellData(row, "NOTICE_ID");		
		var detailCodeModifyCnt = dlt_BMS_NOTICE_MST.getModifiedIndex().length;
		
		if (detailCodeModifyCnt > 0) {
			//com.confirm("공지사항을 저장하시겠습니까?", "scwin.indexChgSaveCode");
		} else {
			var status_row = dlt_BMS_NOTICE_MST.getRowStatus(row);
			if (status_row == "C") {
				dlt_BMS_VHC_MST.removeAll();
				dlt_BMS_STTN_MST.removeAll();
			} else {
				if (val_NOTICE_ID) {
					dma_sub_search.set("NOTICE_ID", val_NOTICE_ID);
					com.executeSubmission(sub_PI0100G1R0);
					com.executeSubmission(sub_PI0100G2R0);
				}else{
					dlt_BMS_VHC_MST.removeAll();
				}
			}
		}
	};
	
	scwin.btn_del_onclick = function() {
		com.delGrid(PI0100G0);
	};
	scwin.btn2_del_onclick = function() {
		com.delGrid(PI0100G1);
	};
	scwin.btn3_del_onclick = function() {
		com.delGrid(PI0100G2);
	};	
	
	scwin.dateDisFormatter = function(data){
		if (data == "") return "";
		return data.substring(0,4) + "-" + data.substring(4,6) + "-" + data.substring(6,8) + " " + data.substring(8,10) + ":" + data.substring(10,12);
	}
	scwin.sendSTSDisFormatter = function(data){
		if (data == "SDS01"){
			return "예약전송대기중";	
		}else if(data == "SDS02"){
			return "예약취소";
		}else if(data == "SDS03"){
			return "전송완료";
		}else{
			return "";
		}
	}	
	
	scwin.sub_PI0100G0R0_submitdone = function(e) {
		if (sCode == gcm.MESSAGE_CODE.STATUS_SUCCESS) {
			spn_organizationCnt.setValue(PI0100G0.getTotalRow());
		}
	};
	
	scwin.sub_PI0100G0S0_submitdone = function(e) {
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SAVE) {
			com.searchGrid(PI0100G0, sub_PI0100G0R0);
		}
	};
	
	scwin.sub_PI0100G1S0_submitdone = function(e) {
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SAVE) {
			com.searchGrid(PI0100G1, sub_PI0100G1R0);
		}		
	};	
	
	scwin.sub_PI0100G2S0_submitdone = function(e) {
		var sCode = com.getResultCode(e);
		if (sCode == gcm.MESSAGE_CODE.STATUS_SAVE) {
			com.searchGrid(PI0100G2, sub_PI0100G2R0);
		}		
	};
	
	scwin.sub_PI0100G0K0_submitdone = function(e) {
		var insertIndex = com.addGrid(PI0100G0,dma_SEQ_BMS_NOTICE_MST_0,"NOTICE_ID","TITLE");
	};
	]]></script>
	</head>
	<body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
		<xf:group class="pgm_container grdr_20_20_a" id="pgm_container" style="">
			<xf:group id="pgm_navi" class="pgm_navi" style="">
				<w2:wframe id="wfm_navi" style="" src="/cm/common/wf_navi.xml" scope="true"></w2:wframe>
			</xf:group>
			<xf:group id="pgm_header" style="" class="pgm_header">
				<xf:group class="gr_search" id="" style="">
					<xf:group class="label" id="" style="">
						<xf:group class="" id="" style="">
							<w2:span class="" id="" label="검색"></w2:span>
						</xf:group>
					</xf:group>
					<xf:group class="search" id="" style="">
						<w2:autoComplete allOption="" caseSensitive="false" chooseOption="true" chooseOptionLabel="-전체-"
							chooseOptionValue="" displayMode="label" editType="select" emptyItem="" emptyValue="" ev:onchange="" ev:onviewchange=""
							id="acb_autoChoiceBox" interactionMode="" noResult="useData" ref="data:dma_search.CONTENT" search="start" selectedData=""
							style="width: 200px;height: 21px;float: left;" submenuSize="auto" textAlign="left" useKeywordHighlight="false" visibleRowNum="">
							<w2:choices>
								<w2:itemset nodeset="data:dlt_grgSearchItem">
									<w2:label ref="GRG_ID"></w2:label>
									<w2:value ref="GRG_ID"></w2:value>
								</w2:itemset>
							</w2:choices>
						</w2:autoComplete>
					</xf:group>
					<w2:wframe id="wfm_mainBtn" class="" style="" src="/cm/common/wf_mainBtn.xml" scope="true"></w2:wframe>
				</xf:group>
			</xf:group>
			
			<xf:group id="pgm_content" style="" class="pgm_content grdc_a_20_700">
				<xf:group id="pgm_list" style="" class="pgm_list grdr_20_2_a">
					<xf:group id="" style="" class="defaultbox">
						<w2:textbox id="" style="" class="df_tt fl" label="공지 목록"></w2:textbox>
					</xf:group>
					<xf:group></xf:group>	
					<xf:group id="" style="">
						<w2:gridView sortEvent="onclick" ev:onrowindexchange="scwin.PI0100G0_onrowindexchange" ev:oncellclick=""
							showSortableImage="" rowNumVisible="true" useShiftKey="true" readOnly="true" scrollByColumn="false" rowNumHeaderValue="순서" sortable="true"
							rowStatusHeaderValue="상태" adaptive="crosstab" overflowX="scroll" overflowY="scroll" rowStatusVisible="false"
							fixedColumnWithHidden="true" dataList="data:dlt_BMS_NOTICE_MST" ignoreCellClick="false" style="width:100%;height:100%;" autoFit="lastColumn"
							visibleRowNum="10" id="PI0100G0" class="cm_grid" tooltipPositionY="" checkReadOnlyOnPasteEnable="">
							<w2:header style="" id="header1">
								<w2:row style="" id="row2">
									<w2:column width="134" style="height:25px;" inputType="text" id="column9" value="공지 ID" blockSelect="false"
										displayMode="label" userData1="" userData2="">
									</w2:column>
									<w2:column width="159" style="height:25px;" inputType="text" id="column17" value="제목" blockSelect="false"
										displayMode="label" userData1="">
									</w2:column>
									<w2:column width="80" style="height:25px;" inputType="text" id="column11" value="본 문" blockSelect="false"
										displayMode="label" userData1="">
									</w2:column>
									<w2:column width="126" style="height:25px;" inputType="text" id="column30" value="전송 차량"
										blockSelect="false">
									</w2:column>
									<w2:column removeBorderStyle="false" width="121" inputType="text" style="height:25px" id="column31"
										value="예약여부" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column width="116" style="height:25px;" inputType="text" id="column28" value="예약일시"
										blockSelect="false">
									</w2:column>
									<w2:column removeBorderStyle="false" width="108" inputType="text" style="height:25px" id="column39"
										value="업데이트일시" blockSelect="false" displayMode="label">
									</w2:column>
									<w2:column removeBorderStyle="false" width="70" inputType="text" style="height:25px" id="column41"
										value="전송상태" blockSelect="false" displayMode="label">
									</w2:column>
								</w2:row>
							</w2:header>
							<w2:gBody width="40" style="" id="gBody4">
								<w2:row style="" id="row5">
									<w2:column width="134" style="height:25px;" inputType="text" id="NOTICE_ID" blockSelect="false"
										displayMode="label" readOnly="true" userData1="M" userData2="">
									</w2:column>
									<w2:column width="159" style="height:25px;" inputType="text" id="TITLE" blockSelect="false"
										displayMode="label" readOnly="true" userData1="M">
									</w2:column>
									<w2:column textAlign="center" width="80" style="height:25px;" inputType="text" id="CONTENTS"
										blockSelect="false" displayMode="label" readOnly="true" userData1="M">
										<w2:choices>
											<w2:itemset nodeset="">
												<w2:label ref=""></w2:label>
												<w2:value ref=""></w2:value>
											</w2:itemset>
										</w2:choices>
									</w2:column>
									<w2:column width="126" style="height:25px;" inputType="text" id="VHC_NO" blockSelect="false"
										displayFormat="" calendarValueType="yearMonthDateTime" applyFormat="" displayMode="" readOnly="true"
										displayFormatter="scwin.rsvDisFormat">
										<w2:choices>
											<w2:itemset nodeset="data:dlt_organizationBasic">
												<w2:label ref="PARENT_ORG_NM"></w2:label>
												<w2:value ref="PARENT_ORG_NM"></w2:value>
											</w2:itemset>
										</w2:choices>
									</w2:column>
									<w2:column removeBorderStyle="false" width="121" inputType="text" style="height:25px" id="SEND_DIV" value=""
										blockSelect="false" displayMode="label" readOnly="true">
									</w2:column>
									<w2:column removeBorderStyle="false" width="116" inputType="text" style="height:25px" id="RSV_DTM" value=""
										blockSelect="false" displayMode="label" readOnly="true" displayFormatter="scwin.dateDisFormatter">
									</w2:column>
									<w2:column removeBorderStyle="false" width="108" inputType="text" style="height:25px" id="UPD_DTM" value=""
										blockSelect="false" displayMode="label" displayFormatter="scwin.dateDisFormatter">
									</w2:column>
									<w2:column removeBorderStyle="false" width="70" inputType="text" style="height:25px" id="SEND_STS" value=""
										blockSelect="false" displayMode="label" autoFitFilterList="" displayFormatter="scwin.sendSTSDisFormatter" displayFormat="">
									</w2:column>
								</w2:row>
							</w2:gBody>
						</w2:gridView>
					</xf:group>
				</xf:group>
				
				<xf:group id="" style="" class="vertical_line"></xf:group>
				
				<xf:group class="pgm_detail grdr_20_2_a">
					<xf:group id="" style="" class="defaultbox">
						<w2:textbox id="" style="" class="df_tt fl" label="공지 상세 정보"></w2:textbox>
					</xf:group>
					<xf:group></xf:group>				
					
					<xf:group tagname="table" style="width:100%;" id="PI0100F0" class="w2tb">
						<w2:attributes>
							<w2:summary></w2:summary>
						</w2:attributes>
						<xf:group tagname="caption"></xf:group>
						<xf:group tagname="colgroup">
							<xf:group tagname="col" style="width:25.00%;"></xf:group>
							<xf:group tagname="col" style="width:25.00%"></xf:group>
							<xf:group tagname="col" style="width:25.00%;"></xf:group>
							<xf:group tagname="col" style="width:25.00%"></xf:group>
						</xf:group>
						<xf:group tagname="tr" style="height:10px;">
							<xf:group tagname="th" style="" class="w2tb_th">공지&amp;nbsp;ID<w2:attributes>
									<w2:scope>row</w2:scope>
								</w2:attributes></xf:group>
							<xf:group tagname="td" style="" class="w2tb_td">
								<w2:attributes>
									<w2:colspan>3</w2:colspan>
									<w2:rowspan>1</w2:rowspan>
								</w2:attributes>
								<xf:input adjustMaxLength="false" id="" style="width:100%;height:100%;" ref="data:dlt_BMS_NOTICE_MST.NOTICE_ID"
									placeholder="홍길동" readOnly="true">
								</xf:input>
							</xf:group>
						</xf:group>
						<xf:group tagname="tr" style="">
							<xf:group tagname="th" style="" class="w2tb_th">제&amp;nbsp;목<w2:attributes>
									<w2:scope>row</w2:scope>
								</w2:attributes></xf:group>
							<xf:group tagname="td" style="" class="w2tb_td">
								<xf:input adjustMaxLength="false" id="TITLE" style="height: 21px;" ref="data:dlt_BMS_NOTICE_MST.TITLE"
									placeholder="업무 협의 요청">
								</xf:input>
							</xf:group>
							<xf:group tagname="th" style="" class="w2tb_th">
								전송상태
								<w2:attributes>
									<w2:scope>row</w2:scope>
								</w2:attributes>
							</xf:group>
							<xf:group tagname="td" style="" class="w2tb_td">
								<xf:input adjustMaxLength="false" id="" style="width: 144px;height: 21px;" ref="data:dlt_BMS_NOTICE_MST.SEND_STS"
									placeholder="예약전송대기중" displayFormatter="scwin.sendSTSDisFormatter" readOnly="true">
								</xf:input>
							</xf:group>
						</xf:group>
						<xf:group tagname="tr" style="">
							<xf:group tagname="th" style="" class="w2tb_th">
								발송방법
								<w2:attributes>
									<w2:scope>row</w2:scope>
								</w2:attributes>
							</xf:group>
							<xf:group tagname="td" style="" class="w2tb_td">
								<xf:select1 id="" selectedIndex="-1" appearance="full" style="width:100%;height:21px;" userData1="" cols="2" rows=""
									ref="" useRadioTitle="">
									<xf:choices>
										<xf:item>
											<xf:label><![CDATA[즉시전송]]></xf:label>
											<xf:value><![CDATA[1]]></xf:value>
										</xf:item>
										<xf:item>
											<xf:label><![CDATA[예약전송]]></xf:label>
											<xf:value><![CDATA[2]]></xf:value>
										</xf:item>
									</xf:choices>
								</xf:select1>
							</xf:group>
							<xf:group tagname="th" style="" class="w2tb_th">
								예약일시
								<w2:attributes>
									<w2:scope>row</w2:scope>
								</w2:attributes>
							</xf:group>
							<xf:group tagname="td" style="" class="w2tb_td">
								<w2:inputCalendar footerDiv="false" id="" style="float:left; width:150px; height:23px;" renderDiv="true"
									focusOnDateSelect="false" calendarValueType="yearMonthDateTime" rightAlign="false" renderType="component"
									ref="data:dlt_BMS_NOTICE_MST.RSV_DTM" editType="" displayFormat="" ioFormat="" calendarDisplayFormatFunc="">
								</w2:inputCalendar>
							</xf:group>
						</xf:group>
						<xf:group tagname="tr" style="">
							<xf:group tagname="th" style="" class="w2tb_th">
								전송할&amp;nbsp;차량
								<w2:attributes>
									<w2:scope>row</w2:scope>
								</w2:attributes>
							</xf:group>
							<xf:group tagname="td" style="height:70px;" class="w2tb_td">
								<w2:attributes>
									<w2:colspan>3</w2:colspan>
									<w2:rowspan>1</w2:rowspan>
								</w2:attributes>
								<xf:group class="ml5 fr" id="" style="">
			
									<w2:generator style="" id="btn_sub_generator" class="btn_main_generator">
										<w2:anchor id="btn_sub" style="left:0px;top:0px;margin-right: 5px;" class="btn_sh" outerDiv="true"></w2:anchor>
									</w2:generator>
								</xf:group>
								<w2:wframe id="wfm_subBtn" class="" style="" src="/cm/common/wf_subBtn.xml" scope="true"></w2:wframe>
								<w2:gridView id="PI0100G1" style="width:100%;height:100px;" scrollByColumn="false" defaultCellHeight="20"
									scrollByColumnAdaptive="false" dataList="data:dlt_BMS_VHC_MST" autoFit="lastColumn" readOnly="" overflowX="auto" overflowY="scroll" fixedColumnScrollHidden="">
									<w2:caption style="" id="caption1" value="this is a grid caption."></w2:caption>
									<w2:header style="" id="header1">
										<w2:row style="" id="row1">
											<w2:column removeBorderStyle="false" width="135" inputType="text" style="height:20px" id="column3"
												value="차량 ID" blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="70" inputType="text" style="height:20px" id="column2"
												value="차량번호" blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="165" inputType="text" style="height:20px" id="column1" value="차대번호"
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="133" inputType="text" style="height:20px" id="column8" value="운수사"
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="87" inputType="text" style="height:20px" id="column10" value="운수사 권역"
												blockSelect="false" displayMode="label">
											</w2:column>
										</w2:row>
									</w2:header>
									<w2:gBody style="" id="gBody1">
										<w2:row style="" id="row2">
											<w2:column removeBorderStyle="false" width="135" inputType="text" style="height:20px" id="VHC_ID" value=""
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="70" inputType="text" style="height:20px" id="VHC_NO" value=""
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="165" inputType="text" style="height:20px" id="CHAS_NO" value=""
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="133" inputType="text" style="height:20px" id="COMP_NM" value=""
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="87" inputType="text" style="height:20px" id="AREA" value=""
												blockSelect="false" displayMode="label">
											</w2:column>
										</w2:row>
									</w2:gBody>
								</w2:gridView>
			
							</xf:group>
						</xf:group>
						<xf:group style="height:70px;" tagname="tr">
							<xf:group class="w2tb_th" style="" tagname="th">전송할&amp;nbsp;정류소<w2:attributes>
									<w2:scope>row</w2:scope>
								</w2:attributes></xf:group>
							<xf:group class="w2tb_td" style="" tagname="td">
								<w2:attributes>
									<w2:colspan>3</w2:colspan>
									<w2:rowspan>1</w2:rowspan>
								</w2:attributes>
								<xf:group class="ml5 fr" id="" style="">
									<w2:generator class="btn_main_generator" id="btn_sub2_generator" style="">
										<w2:anchor class="btn_sh" id="btn_sub" outerDiv="true" style="left:0px;top:0px;margin-right: 5px;"></w2:anchor>
									</w2:generator>
								</xf:group>
								<w2:gridView autoFit="lastColumn" dataList="data:dlt_BMS_STTN_MST" defaultCellHeight="20" id="PI0100G2" readOnly=""
									scrollByColumn="false" scrollByColumnAdaptive="false" style="width:100%;height:100px;" overflowY="scroll" overflowX="auto">
									<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
									<w2:header id="header1" style="">
										<w2:row id="row1" style="">
											<w2:column blockSelect="false" displayMode="label" id="column3" inputType="text" removeBorderStyle="false"
												style="height:20px" value="정류소ID" width="166">
											</w2:column>
											<w2:column blockSelect="false" displayMode="label" id="column2" inputType="text" removeBorderStyle="false"
												style="height:20px" value="정류소명" width="70">
											</w2:column>
											<w2:column blockSelect="false" displayMode="label" id="column1" inputType="text" removeBorderStyle="false"
												style="height:20px" value="정류소번호" width="89">
											</w2:column>
											<w2:column removeBorderStyle="false" width="97" inputType="text" style="height:20px" id="PI0100P02" value="관련 노선"
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="75" inputType="text" style="height:20px" id="column12" value="위도"
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="73" inputType="text" style="height:20px" id="column8" value="경도"
												blockSelect="false" displayMode="label">
											</w2:column>
										</w2:row>
									</w2:header>
									<w2:gBody id="gBody1" style="">
										<w2:row id="row2" style="">
											<w2:column blockSelect="false" displayMode="label" id="STTN_ID" inputType="text" removeBorderStyle="false"
												style="height:20px" value="" width="166">
											</w2:column>
											<w2:column blockSelect="false" displayMode="label" id="STTN_NM" inputType="text" removeBorderStyle="false"
												style="height:20px" value="" width="70">
											</w2:column>
											<w2:column blockSelect="false" displayMode="label" id="STTN_NO" inputType="text" removeBorderStyle="false"
												style="height:20px" value="" width="89">
											</w2:column>
											<w2:column removeBorderStyle="false" width="97" inputType="text" style="height:20px" id="column11" value=""
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="75" inputType="text" style="height:20px" id="GPS_X" value=""
												blockSelect="false" displayMode="label">
											</w2:column>
											<w2:column removeBorderStyle="false" width="73" inputType="text" style="height:20px" id="GPS_Y" value=""
												blockSelect="false" displayMode="label">
											</w2:column>
										</w2:row>
									</w2:gBody>
								</w2:gridView>
							</xf:group>
						</xf:group>
						<xf:group tagname="tr" style="">
							<xf:group tagname="th" style="" class="w2tb_th">
								본문
								<w2:attributes>
									<w2:scope>row</w2:scope>
								</w2:attributes>
							</xf:group>
							<xf:group tagname="td" style="" class="w2tb_td">
								<w2:attributes>
									<w2:colspan>3</w2:colspan>
									<w2:rowspan>1</w2:rowspan>
								</w2:attributes>
								<xf:textarea id="CONTENTS" style="width:100%;height:100%;" ref="data:dlt_BMS_NOTICE_MST.CONTENTS"></xf:textarea>
							</xf:group>
						</xf:group>
					</xf:group>
					
					
				</xf:group>
			</xf:group>
		</xf:group>


		


	</body>
</html>