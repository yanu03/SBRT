<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.tracom.bms.domain.PI0701.PI0701Mapper">
	<select id="PI0701G0R0" resultType="Map">
		SELECT 		ROUTE_ID
					,ROUT_NM
					,WAY_DIV
					,ST_STTN_ID
					,ST_STTN_NM
					,ED_STTN_ID
					,ED_STTN_NM
					,REMARK
					
		FROM		BMS_ROUT_MST			
		<where>
			<if test="TYPE == 'ALL' and CONTENT != null and CONTENT != ''">
				AND ROUTE_ID LIKE CONCAT('%',#{CONTENT},'%') || ROUT_NM LIKE CONCAT('%',#{CONTENT},'%') 
			</if>
			<if test="TYPE == 'ROUTE_ID'">
				AND ROUTE_ID LIKE CONCAT('%',#{CONTENT},'%')
			</if>
			<if test="TYPE == 'ROUT_NM'">
				AND ROUT_NM LIKE CONCAT('%',#{CONTENT},'%') 
			</if>
		</where>					
	
	</select>


	<select id="PI0701SHI0" resultType="Map">
		SELECT		ROUTE_ID
					,ROUT_NM
		FROM		BMS_ROUT_MST
	
	</select>
</mapper>